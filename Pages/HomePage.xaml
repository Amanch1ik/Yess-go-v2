<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:YessGoFront.Models"
             x:Class="YessGoFront.Pages.HomePage"
             Title="Главная">
    <ScrollView>
        <StackLayout Padding="20" Spacing="20">
            <Label Text="Добро пожаловать!" 
                   FontSize="24" 
                   FontAttributes="Bold" 
                   HorizontalOptions="Center" />
            
            <Label Text="Истории" FontSize="18" FontAttributes="Bold" />
            <CollectionView ItemsSource="{Binding Stories}" HeightRequest="100">
                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Horizontal" />
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:StoryModel">
                        <Frame Padding="10" Margin="5" BackgroundColor="LightBlue" CornerRadius="50">
                            <Label Text="{Binding Title}" HorizontalOptions="Center" />
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            
            <Label Text="Категории" FontSize="18" FontAttributes="Bold" />
            <CollectionView ItemsSource="{Binding MainCategories}" HeightRequest="100">
                <CollectionView.ItemsLayout>
                    <LinearItemsLayout Orientation="Horizontal" />
                </CollectionView.ItemsLayout>
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:CategoryModel">
                        <Frame Padding="10" Margin="5" BackgroundColor="LightGreen" CornerRadius="10">
                            <Label Text="{Binding Title}" HorizontalOptions="Center" />
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
            
            <Label Text="Партнеры" FontSize="18" FontAttributes="Bold" />
            <CollectionView ItemsSource="{Binding Partners}" HeightRequest="150">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:PartnerModel">
                        <Frame Padding="15" Margin="5" BackgroundColor="White" CornerRadius="10">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" Text="{Binding Name}" FontSize="16" FontAttributes="Bold" />
                                <Label Grid.Row="1" Text="{Binding CashbackPercent, StringFormat='Кэшбэк: {0}%'}" FontSize="14" TextColor="Green" />
                            </Grid>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </StackLayout>
    </ScrollView>
</ContentPage>
